plugins {
    id "com.moowork.node" version "1.1.1"
}

node {
    download = false
}

version='1.2.0'

sourceSets {
  main {
      resources {
        srcDir 'src/main/javascript'
        exclude 'node_modules/**'
      }
  }
}

npm_install {
  execOverrides {
    it.workingDir = 'src/main/javascript'
  }
}

task npm_build(type: NpmTask) {
  execOverrides {
    it.workingDir = 'src/main/javascript'
  }
  args = ['run', 'build']
}

npm_build.dependsOn npm_install

npm_start {
  execOverrides {
    it.workingDir = 'src/main/javascript'
  }
}
