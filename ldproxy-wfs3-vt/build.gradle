version = '1.3.0'
version += '-SNAPSHOT'

repositories {
    mavenCentral()
    maven {
        url "https://github.com/ElectronicChartCentre/ecc-mvn-repo/raw/master/releases"
    }
    mavenLocal()
}

dependencies {
    compile project(":ldproxy-wfs3")
    compile project(":ldproxy-wfs3-oas30")
    compile project(":ldproxy-wfs3-api")
    compile project(":ldproxy-wfs3-geojson")
    compile project(":ldproxy-wfs3-core")

    embedded (group: 'no.ecc.vectortile', name: 'java-vector-tile', version: '1.3.1') {
        exclude module: 'jts-core'
    }
    embedded (group: 'org.locationtech.jts', name: 'jts-core', version: '1.15.1') {
        exclude module: 'json-simple'
    }
    embedded (group: 'org.locationtech.jts.io', name: 'jts-io-common', version: '1.15.1') {
        exclude module: 'json-simple'
    }
    embedded group: 'xml-apis', name: 'xml-apis', version: '1.4.01'
    embedded group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
}

jar {
    manifest {
        instruction 'Embed-Dependency',
                'java-vector-tile',
                'jts-core',
                'xml-apis',
                'json-simple',
                'jts-io-common'

        instruction 'Embed-Transitive', 'true'
    }
}
