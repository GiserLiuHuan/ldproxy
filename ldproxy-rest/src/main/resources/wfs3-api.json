{
    "openapi": "3.0.0",
    "info": {

    },
    "servers": [],
    "paths": {
        "/": {
            "get": {
                "summary": "landing page of this API",
                "operationId": "getLandingPage",
                "tags": [
                    "Capabilities"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/f"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "links to the API capabilities and the feature collections shared by this API.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/content"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/content"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api": {
            "get": {
                "summary": "the API description - this document",
                "operationId": "getApiDescription",
                "tags": [
                    "Capabilities"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/f"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The formal documentation of this API according to the OpenAPI specification, version 3.0. I.e., this document.",
                        "content": {
                            "application/openapi+json;version=3.0": {
                                "schema": {
                                    "type": "object"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/conformance": {
            "get": {
                "summary": "list all requirements classes specified in a standard (e.g., WFS 3.0) that the server conforms to",
                "operationId": "getRequirementsClasses",
                "tags": [
                    "Capabilities"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/f"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "the URIs of all requirements classes supported by the server",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/req-classes"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/collections": {
            "get": {
                "summary": "describe the feature collections in the dataset",
                "operationId": "describeCollections",
                "tags": [
                    "Capabilities"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/f"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "The feature collections shared by this API.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/content"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/content"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/collections/{featureType}": {
            "get": {
                "summary": "describe the feature collection",
                "operationId": "describeFeatures",
                "tags": [
                    "Capabilities"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/f"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Information about the feature collection",
                        "content": {
                            "application/geo+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/collectionInfo"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/collections/{featureType}/items": {
            "get": {
                "summary": "retrieve features",
                "description": "Every feature in a dataset belongs to one collection of features. A dataset may consist of multiple feature  collections. Typically, a feature collection is a collection of features of a similar type, based on a  common schema.",
                "operationId": "getFeatures",
                "tags": [
                    "Features"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/f"
                    },
                    {
                        "$ref": "#/components/parameters/startIndex"
                    },
                    {
                        "$ref": "#/components/parameters/count"
                    },
                    {
                        "$ref": "#/components/parameters/resultType"
                    },
                    {
                        "$ref": "#/components/parameters/bbox"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Information about the feature collection plus the first features matching the selection parameters.",
                        "content": {
                            "application/geo+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/featureCollectionGeoJSON"
                                }
                            },
                            "application/gml+xml;version=3.2": {
                                "schema": {
                                    "$ref": "#/components/schemas/featureCollectionGML"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "application/ld+json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "application/ld+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/collections/{featureType}/items/{id}": {
            "get": {
                "summary": "retrieve a feature",
                "operationId": "getFeature",
                "tags": [
                    "Features"
                ],
                "parameters": [
                    {
                        "$ref": "#/components/parameters/id"
                    },
                    {
                        "$ref": "#/components/parameters/f"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A feature.",
                        "content": {
                            "application/geo+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/featureGeoJSON"
                                }
                            },
                            "application/gml+xml;version=3.2": {
                                "schema": {
                                    "$ref": "#/components/schemas/featureGML"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "application/ld+json": {
                                "schema": {
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "default": {
                        "description": "An error occured.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "application/xml": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            },
                            "text/html": {
                                "schema": {
                                    "type": "string"
                                }
                            },
                            "application/ld+json": {
                                "schema": {
                                    "$ref": "#/components/schemas/exception"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "parameters": {
            "f": {
                "name": "f",
                "in": "query",
                "description": "The format of the response. If no value is provided, the standard http rules apply, i.e., the accept header shall be used to determine the format.\\\nPre-defined values are \"xml\", \"json\" and \"html\". The response to other  values is determined by the server.",
                "required": false,
                "schema": {
                    "type": "string",
                    "enum": [
                        "json",
                        "xml",
                        "html"
                    ]
                },
                "style": "form",
                "explode": false,
                "example": "json"
            },
            "startIndex": {
                "name": "startIndex",
                "in": "query",
                "description": "The optional startIndex parameter indicates the index within the result set from which the server shall begin presenting results in the response document. The first element has an index of 0.\\\nMinimum = 0.\\\nDefault = 0.",
                "required": false,
                "schema": {
                    "type": "integer",
                    "minimum": 0,
                    "default": 0
                },
                "style": "form",
                "explode": false,
                "example": 0
            },
            "count": {
                "name": "count",
                "in": "query",
                "description": "The optional count parameter limits the number of items that are presented in the response document.\\\nOnly items are counted that are on the first level of the collection in the response document.  Nested objects contained within the explicitly requested items shall not be counted.\\\nMinimum = 1.\\\nMaximum = 10000.\\\nDefault = 10.",
                "required": false,
                "schema": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 10000,
                    "default": 10
                },
                "style": "form",
                "explode": false,
                "example": 10
            },
            "bbox": {
                "name": "bbox",
                "in": "query",
                "description": "Only features that have a geometry that intersects the bounding box are selected. The bounding box is provided as four numbers:\n \n* Lower corner, coordinate axis 1 (minimum longitude) * Lower corner, coordinate axis 2 (minimum latitude) * Upper corner, coordinate axis 1 (maximum longitude) * Upper corner, coordinate axis 2 (maximum latitude)",
                "required": false,
                "schema": {
                    "type": "array",
                    "minItems": 4,
                    "maxItems": 4,
                    "items": {
                        "type": "number",
                        "minimum": -180,
                        "maximum": 180
                    }
                },
                "style": "form",
                "explode": false
            },
            "resultType": {
                "name": "resultType",
                "in": "query",
                "description": "This service will respond to a query in one of two ways (excluding an exception response). It may either generate a complete response document containing resources that satisfy the operation or it may simply generate an empty response container that indicates the count of the total number of resources that the operation would return. Which of these two responses is generated is determined by the value of the optional resultType parameter.\\\nThe allowed values for this parameter are \"results\" and \"hits\".\\\nIf the value of the resultType parameter is set to \"results\", the server will generate a complete response document containing resources that satisfy the operation.\\\nIf the value of the resultType attribute is set to \"hits\", the server will generate an empty response document containing no resource instances.\\\nDefault = \"results\".",
                "required": false,
                "schema": {
                    "type": "string",
                    "enum": [
                        "hits",
                        "results"
                    ],
                    "default": "results"
                },
                "style": "form",
                "explode": false,
                "example": "results"
            },
            "id": {
                "name": "id",
                "in": "path",
                "description": "The id of a feature",
                "required": true,
                "schema": {
                    "type": "string"
                }
            }
        },
        "schemas": {
            "exception": {
                "type": "object",
                "required": [
                    "code"
                ],
                "xml": {
                    "name": "Exception",
                    "namespace": "http://www.opengis.net/wfs/3.0",
                    "prefix": "wfs"
                },
                "properties": {
                    "code": {
                        "type": "string",
                        "xml": {
                            "name": "code",
                            "attribute": true
                        }
                    },
                    "description": {
                        "type": "string",
                        "xml": {
                            "name": "description",
                            "namespace": "http://www.opengis.net/wfs/3.0",
                            "prefix": "wfs"
                        }
                    }
                }
            },
            "bbox": {
                "type": "object",
                "required": [
                    "bbox"
                ],
                "properties": {
                    "crs": {
                        "type": "string",
                        "enum": [
                            "http://www.opengis.net/def/crs/OGC/1.3/CRS84"
                        ],
                        "default": "http://www.opengis.net/def/crs/OGC/1.3/CRS84"
                    },
                    "bbox": {
                        "description": "minimum longitude, minimum latitude, maximum longitude, maximum latitude",
                        "type": "array",
                        "minItems": 4,
                        "maxItems": 4,
                        "items": {
                            "type": "number",
                            "minimum": -180,
                            "maximum": 180
                        },
                        "example": [
                            -180,
                            -90,
                            180,
                            90
                        ]
                    }
                }
            },
            "content": {
                "type": "object",
                "required": [
                    "collections"
                ],
                "xml": {
                    "name": "Collections",
                    "namespace": "http://www.opengis.net/wfs/3.0",
                    "prefix": "wfs"
                },
                "properties": {
                    "collections": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/collectionInfo"
                        },
                        "xml": {
                            "namespace": "http://www.opengis.net/wfs/3.0",
                            "prefix": "wfs"
                        }
                    }
                }
            },
            "collectionInfo": {
                "type": "object",
                "required": [
                    "name",
                    "links"
                ],
                "properties": {
                    "name": {
                        "type": "string",
                        "example": "address"
                    },
                    "title": {
                        "type": "string",
                        "example": "address"
                    },
                    "description": {
                        "type": "string",
                        "example": "An address."
                    },
                    "links": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/link"
                        },
                        "example": [
                            {
                                "href": "http://data.example.com/buildings",
                                "rel": "item"
                            },
                            {
                                "href": "http://example.com/concepts/buildings.html",
                                "rel": "describedBy",
                                "type": "text/html"
                            },
                            {
                                "href": "http://example.com/schemas/buildings.xsd",
                                "rel": "describedBy",
                                "type": "application/xml"
                            }
                        ]
                    },
                    "extent": {
                        "$ref": "#/components/schemas/bbox"
                    },
                    "crs": {
                        "description": "TODO - add description ... first crs is the default crs",
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "default": [
                            "http://www.opengis.net/def/crs/OGC/1.3/CRS84"
                        ],
                        "example": [
                            "http://www.opengis.net/def/crs/OGC/1.3/CRS84",
                            "http://www.opengis.net/def/crs/EPSG/0/4326"
                        ]
                    }
                }
            },
            "link": {
                "type": "object",
                "required": [
                    "href"
                ],
                "properties": {
                    "href": {
                        "type": "string",
                        "xml": {
                            "attribute": true
                        },
                        "example": "http://data.example.com/buildings/123"
                    },
                    "rel": {
                        "type": "string",
                        "xml": {
                            "attribute": true
                        },
                        "example": "prev"
                    },
                    "type": {
                        "type": "string",
                        "xml": {
                            "attribute": true
                        },
                        "example": "application/gml+xml;version=3.2"
                    },
                    "hreflang": {
                        "type": "string",
                        "xml": {
                            "attribute": true
                        },
                        "example": "en"
                    }
                }
            },
            "featureCollectionGeoJSON": {
                "type": "object",
                "required": [
                    "features"
                ],
                "properties": {
                    "features": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/featureGeoJSON"
                        }
                    }
                }
            },
            "featureGeoJSON": {
                "type": "object",
                "required": [
                    "type",
                    "geometry",
                    "properties"
                ],
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "Feature"
                        ]
                    },
                    "geometry": {
                        "$ref": "#/components/schemas/geometryGeoJSON"
                    },
                    "properties": {
                        "type": "object",
                        "nullable": true
                    },
                    "id": {
                        "oneOf": [
                            {
                                "type": "string"
                            },
                            {
                                "type": "integer"
                            }
                        ]
                    }
                }
            },
            "geometryGeoJSON": {
                "type": "object",
                "required": [
                    "type"
                ],
                "properties": {
                    "type": {
                        "type": "string",
                        "enum": [
                            "Point",
                            "MultiPoint",
                            "LineString",
                            "MultiLineString",
                            "Polygon",
                            "MultiPolygon",
                            "GeometryCollection"
                        ]
                    }
                }
            },
            "featureCollectionGML": {
                "type": "object",
                "xml": {
                    "name": "FeatureCollection",
                    "namespace": "http://www.opengis.net/wfs/3.0",
                    "prefix": "wfs"
                },
                "properties": {
                    "features": {
                        "type": "array",
                        "items": {
                            "xml": {
                                "name": "featureMember",
                                "namespace": "http://www.opengis.net/wfs/3.0",
                                "prefix": "wfs"
                            },
                            "oneOf": [
                                {
                                    "$ref": "#/components/schemas/referenceXlink"
                                },
                                {
                                    "$ref": "#/components/schemas/featureGML"
                                }
                            ]
                        }
                    }
                }
            },
            "featureGML": {
                "type": "object",
                "required": [
                    "gml:id"
                ],
                "xml": {
                    "name": "AbstractFeature",
                    "namespace": "http://www.opengis.net/gml/3.2",
                    "prefix": "gml"
                },
                "properties": {
                    "gml:id": {
                        "type": "string",
                        "xml": {
                            "namespace": "http://www.opengis.net/gml/3.2",
                            "prefix": "gml",
                            "attribute": true
                        }
                    }
                }
            },
            "referenceXlink": {
                "type": "object",
                "required": [
                    "href"
                ],
                "properties": {
                    "href": {
                        "type": "string",
                        "xml": {
                            "namespace": "http://www.w3.org/1999/xlink",
                            "prefix": "xlink",
                            "attribute": true
                        }
                    },
                    "title": {
                        "type": "string",
                        "xml": {
                            "namespace": "http://www.w3.org/1999/xlink",
                            "prefix": "xlink",
                            "attribute": true
                        }
                    }
                }
            },
            "req-classes": {
                "type": "object",
                "required": [
                    "conformsTo"
                ],
                "properties": {
                    "conformsTo": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Capabilities",
            "description": "Essential characteristics of this API including information about the data."
        },
        {
            "name": "Features",
            "description": "Access to data (features)."
        }
    ]
}